GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                 01/08/15 18:46:53 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  **    (c) Copyright 2014, University of Manchester
   2  **
   3  **    This file is part of the GAMS Plugin Demo Suite.
   4  **
   5  **    The GAMS Plugin Demo Suite is free software: you can redistribute it and/or modify
   6  **    it under the terms of the GNU General Public License as published by
   7  **    the Free Software Foundation, either version 3 of the License, or
   8  **    (at your option) any later version.
   9  **
  10  **    The GAMS Plugin Demo Suite is distributed in the hope that it will be useful,
  11  **    but WITHOUT ANY WARRANTY; without even the implied warranty of
  12  **    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  13  **    GNU General Public License for more details.
  14  **
  15  **    You should have received a copy of the GNU General Public License
  16  **    along with the GAMS Plugin Demo Suite.  If not, see <http://www.gnu.org/licenses/>.
  17  **
  18   
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                 01/08/15 18:46:53 Page 2
Demo2.gmdataset 1s
C o m p i l a t i o n


  20   
  21  * version: time-step by time-step
  22   
  23   option limrow=10000;
  24   option limcol=10000;
  25   
  26  ** ----------------------------------------------------------------------
  27  **  Loading Data: sets, parameters and tables
  28  ** ----------------------------------------------------------------------
  29   
INCLUDE    c:\Users\steve\git\hydra_plugins\GAMS\tutorial\Demo_models\Demo2\test.dat
  31  * Data exported from Hydra using GAMSplugin.
  32  * (c) Copyright 2013, 2014, University of Manchester
  33  *
  34  * GAMS App tutorial:
  35  * Network-ID:  3
  36  * Scenario-ID: 3
  37  *******************************************************************************
  38   
  39  * Network definition
  40   
  41  SETS
  42   
  43  i vector of all nodes /
  44  Ag1
  45  EndPt
  46  J1
  47  SR1
  48  Urb1
  49      /
  50   
  51  Alias(i,j)
  52   
  53  * Node types
  54   
  55  SETS
  56   
  57  demand(i) /
  58  Ag1
  59  Urb1
  60  /
  61   
  62  junction(i) /
  63  EndPt
  64  J1
  65  /
  66   
  67  surface_reservoir(i) /
  68  SR1
  69  /
  70   
  71  * Node groups
  72   
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                 01/08/15 18:46:53 Page 3
Demo2.gmdataset 1s
C o m p i l a t i o n


  73  node_groups vector of all node groups /
  74  demand_nodes
  75  non_storage_nodes
  76  storage_nodes
  77  /
  78   
  79  demand_nodes(i) /
  80  Ag1
  81  Urb1
  82  /
  83   
  84  non_storage_nodes(i) /
  85  Ag1
  86  J1
  87  Urb1
  88  /
  89   
  90  storage_nodes(i) /
  91  SR1
  92  /
  93   
  94  SETS
  95   
  96  links(i,j) vector of all links /
  97  J1 . EndPt
  98  J1 . Urb1
  99  SR1 . Ag1
 100  SR1 . J1
 101      /
 102   
 103  * Link types
 104   
 105  link(i,j) /
 106  J1 . EndPt
 107  J1 . Urb1
 108  SR1 . Ag1
 109  SR1 . J1
 110  /
 111   
 112  * Connectivity matrix.
 113  Table Connect(i,j)
 114                   Ag1     EndPt        J1       SR1      Urb1
 115         Ag1         0         0         0         0         0
 116   
 117       EndPt         0         0         0         0         0
 118   
 119          J1         0         1         0         0         1
 120   
 121         SR1         1         0         1         0         0
 122   
 123        Urb1         0         0         0         0         0
 124   
 125  SETS
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                 01/08/15 18:46:53 Page 4
Demo2.gmdataset 1s
C o m p i l a t i o n


 126   
 127  * Time index
 128  t time index /
 129  0
 130  1
 131  2
 132  3
 133  4
 134  5
 135  /
 136   
 137  * define time steps dependent on time index (t)
 138   
 139  Parameter timestamp(t) ;
 140   
 141      timestamp("0") = 730120.0 ;
 142      timestamp("1") = 730151.0 ;
 143      timestamp("2") = 730180.0 ;
 144      timestamp("3") = 730211.0 ;
 145      timestamp("4") = 730241.0 ;
 146      timestamp("5") = 730272.0 ;
 147   
 148   
 149  * Node data
 150   
 151  * Data for node type demand
 152   
 153  SETS
 154   
 155  demand_scalars /
 156  consumption_coefficient
 157  /
 158   
 159  Table demand_scalar_data(i,demand_scalars)
 160   
 161                           consumption_coefficient
 162  Ag1                                 1.0
 163  Urb1                                1.0
 164   
 165   
 166  * Data for node type junction
 167   
 168  * Data for node type surface_reservoir
 169   
 170  SETS
 171   
 172  surface_reservoir_scalars /
 173  initial_storage
 174  /
 175   
 176  Table surface_reservoir_scalar_data(i,surface_reservoir_scalars)
 177   
 178                           initial_storage
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                 01/08/15 18:46:53 Page 5
Demo2.gmdataset 1s
C o m p i l a t i o n


 179  SR1                               450.0
 180   
 181   
 182  SETS
 183   
 184  surface_reservoir_timeseries /
 185  inflow
 186  storagelower
 187  storageupper
 188  /
 189   
 190  Table surface_reservoir_timeseries_data(t,i,surface_reservoir_timeseries)
 191   
 192              SR1.inflow SR1.storagelower SR1.storageupper
 193  0           300.000000        10.000000       500.000000
 194  1           320.000000        10.000000       500.000000
 195  2           320.000000        10.000000       500.000000
 196  3           330.000000        10.000000       500.000000
 197  4           310.000000        10.000000       500.000000
 198  5           310.000000        10.000000       500.000000
 199   
 200  * Link data
 201   
 202  * Data for link type link
 203   
 204  SETS
 205   
 206  link_timeseries /
 207  cost
 208  flow_multiplier
 209  min_flow
 210  max_flow
 211  /
 212   
 213  Table link_timeseries_data(t,i,j,link_timeseries)
 214   
 215          J1 . EndPt.cost J1 . Urb1.cost SR1 . Ag1.cost  SR1 . J1.cost J1 . EndPt.flow_multiplier J1 . Urb1.flow_multiplier SR1 . Ag1.flow_multiplier SR1 . J1.flow_multiplier J1 . EndPt.min_flow J1 . Urb1.min_flow SR1 . Ag1.min_flow SR1 . J1.min_flow 
      J1 . EndPt.max_flow J1 . Urb1.max_flow SR1 . Ag1.max_flow SR1 . J1.max_flow
 216  0             10.000000       1.000000      20.000000      15.000000                   1.000000                  0.950000                  1.000000                 1.000000           10.000000          20.000000          25.000000         10.000000 
               200.000000         220.000000         200.000000        310.000000
 217  1             10.000000      10.000000       8.000000      15.000000                   1.000000                  0.850000                  1.000000                 0.900000           30.000000          10.000000          15.000000         10.000000 
               200.000000         250.000000         210.000000        300.000000
 218  2             10.000000       7.000000      20.000000      15.000000                   1.000000                  0.900000                  1.000000                 1.000000           30.000000          25.000000          10.000000         10.000000 
               200.000000         240.000000         210.000000        300.000000
 219  3             10.000000       2.000000      15.000000      15.000000                   1.000000                  0.850000                  1.000000                 0.950000           30.000000          20.000000          10.000000         10.000000 
               200.000000         230.000000         200.000000        300.000000
 220  4             10.000000       3.000000      19.000000      15.000000                   1.000000                  0.900000                  1.000000                 1.000000           30.000000          20.000000          15.000000         10.000000 
               200.000000         240.000000         200.000000        310.000000
 221  5             10.000000       5.000000      10.000000      15.000000                   1.000000                  1.000000                  1.000000                 1.000000           30.000000          20.000000          15.000000         10.000000 
               200.000000         250.000000         200.000000        300.000000
 222   
 223   
 224  ** -------------------------t ---------------------------------------------
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                 01/08/15 18:46:53 Page 6
Demo2.gmdataset 1s
C o m p i l a t i o n


 225  **  Model variables and equations
 226  ** ----------------------------------------------------------------------
 227   
 228  VARIABLES
 229  Q(i,j,t) flow in each link in each period [1e6 m^3 mon^-1]
 230  S(i,t) storage volume in storage nodes [1e6 m^3]
 231  delivery (i) water delivered to demand node i in each period [1e6 m^3 mon^-1]
 232  Z objective function [-]
 233  Obj (t) [-];
 234  ;
 235   
 236  POSITIVE VARIABLES
 237  Q
 238  S
 239  ;
 240   
 241  positive variable  storage(i,t) an interim variable for saving the value of the storage at the end of each time-step;
 242   
 243  EQUATIONS
 244  MassBalance_nonstorage(non_storage_nodes)
 245  MassBalance_storage(storage_nodes)
 246  MinFlow(i,j,t)
 247  MaxFlow(i,j,t)
 248  MaxStor(storage_nodes,t)
 249  MinStor(storage_nodes,t)
 250  DemandEQ(demand_nodes)
 251  Objective
 252  ;
 253   
 254  * introducing a dummy variable to empty (reset) the time-step in each loop
 255   
 257  set dv(t) / /;
 258   
 259  * Objective function for time step by time step formulation
 260   
 261  Objective ..
 262      Z =E=sum(t$dv(t),SUM((i,j)$links(i,j), Q(i,j,t) * link_timeseries_data(t,i,j,"cost")));
 263   
 264  *Calculating water delivery for each demand node at each time step
 265   
 266  DemandEQ(demand_nodes)..
 267           delivery(demand_nodes) =E= sum(t$dv(t),SUM(j$links(j,demand_nodes), Q(j,demand_nodes,t)
 268           * link_timeseries_data(t,j, demand_nodes,"flow_multiplier")));
 269   
 270  * Mass balance constrait for non-storage nodes:
 271   
 272  MassBalance_nonstorage(non_storage_nodes) ..
 273      sum(t$dv(t),surface_reservoir_timeseries_data(t,non_storage_nodes,"inflow")+SUM(j$links(j,non_storage_nodes), Q(j,non_storage_nodes,t)* link_timeseries_data(t, j,non_storage_nodes,"flow_multiplier"))
 274      - SUM(j$links(non_storage_nodes,j), Q(non_storage_nodes,j,t))
 275      - demand_scalar_data(non_storage_nodes, "consumption_coefficient")$demand_nodes(non_storage_nodes) * delivery(non_storage_nodes))
 276      =E= 0;
 277   
 278  * Mass balance constraint for storage nodes:
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                 01/08/15 18:46:53 Page 7
Demo2.gmdataset 1s
C o m p i l a t i o n


 279   
 280  MassBalance_storage(storage_nodes)..
 281           sum(t$dv(t),surface_reservoir_timeseries_data(t,storage_nodes,"inflow")+SUM(j$links(j,storage_nodes), Q(j,storage_nodes,t)* link_timeseries_data(t, j,storage_nodes,"flow_multiplier"))
 282           - SUM(j$links(storage_nodes,j), Q(storage_nodes,j,t))
 283           -S(storage_nodes,t)
 284           +storage(storage_nodes,t-1)$(ord(t) GT 1)
 285           + surface_reservoir_scalar_data(storage_nodes,"initial_storage")$(ord(t) EQ 1))
 286           =E= 0;
 287   
 288  * Lower and upper bound of possible flow in links
 289   
 290  MinFlow(i,j,t)$(links(i,j) and dv(t))..
 291      Q(i,j,t) =G= link_timeseries_data(t,i,j,"min_flow");
 292   
 293  MaxFlow(i,j,t)$(links(i,j) and dv(t))..
 294      Q(i,j,t) =L= link_timeseries_data(t,i,j,"max_flow");
 295   
 296  * Lower and upper bound of Storage volume at storage nodes
 297   
 298  MaxStor(storage_nodes,t)$dv(t)..
 299      S(storage_nodes,t) =L= surface_reservoir_timeseries_data(t,storage_nodes,"storageupper");
 300   
 301  MinStor(storage_nodes,t)$dv(t)..
 302      S(storage_nodes,t) =G= surface_reservoir_timeseries_data(t,storage_nodes,"storagelower");
 303   
 304  ** ----------------------------------------------------------------------
 305  **  Model declaration and solve statements
 306  ** ----------------------------------------------------------------------
 307  alias (t,tsteps);
 308  MODEL Demo2 /ALL/;
 309   
 310  loop (tsteps,
 311              dv(tsteps)=t(tsteps);
 312              display dv;
 313              SOLVE Demo2 USING LP MINIMIZING Z;
 314              storage.fx(i,tsteps)=S.l(i,tsteps) ;
 315              Obj.l(tsteps)=Z.l;
 316              DISPLAY  Z.l, Obj.l,storage.l,S.l, Q.l,delivery.l;
 317              dv(tsteps)=no;
 318        );
 319   
 320  *Generating results output
 321   
 322  execute_unload "Results.gdx" ,
 323      Q,
 324      S,
 325      MassBalance_storage,
 326      MassBalance_nonstorage,
 327      MinFlow,
 328      MaxFlow,
 329      MinStor,
 330      MaxStor,
 331      Z,
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                 01/08/15 18:46:53 Page 8
Demo2.gmdataset 1s
C o m p i l a t i o n


 332      Obj,
 333      link_timeseries_data,
 334      storage,
 335      delivery;
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                 01/08/15 18:46:53 Page 9
Demo2.gmdataset 1s
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  c:\Users\steve\git\hydra_plugins\GAMS\tutorial\Demo_models\Demo2\Demo2.gms
     2       30 INCLUDE        1      30  .c:\Users\steve\git\hydra_plugins\GAMS\tutorial\Demo_models\Demo2\test.dat


COMPILATION TIME     =        0.000 SECONDS      3 MB  24.3.3 r48116 WEX-WEI
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 10
Demo2.gmdataset 1s
E x e c u t i o n


----    312 SET dv  

0

GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 11
Demo2.gmdataset 1s
Equation Listing    SOLVE Demo2 Using LP From line 313


---- MassBalance_nonstorage  =E=  

MassBalance_nonstorage(Ag1)..  Q(SR1,Ag1,0) - delivery(Ag1) =E= 0 ; (LHS = 0)
     
MassBalance_nonstorage(J1)..  - Q(J1,EndPt,0) - Q(J1,Urb1,0) + Q(SR1,J1,0) =E= 0 ; (LHS = 0)
     
MassBalance_nonstorage(Urb1)..  0.95*Q(J1,Urb1,0) - delivery(Urb1) =E= 0 ; (LHS = 0)
     

---- MassBalance_storage  =E=  

MassBalance_storage(SR1)..  - Q(SR1,Ag1,0) - Q(SR1,J1,0) - S(SR1,0) =E= -750 ; (LHS = 0, INFES = 750 ****)
     

---- MinFlow  =G=  

MinFlow(J1,EndPt,0)..  Q(J1,EndPt,0) =G= 10 ; (LHS = 0, INFES = 10 ****)
     
MinFlow(J1,Urb1,0)..  Q(J1,Urb1,0) =G= 20 ; (LHS = 0, INFES = 20 ****)
     
MinFlow(SR1,Ag1,0)..  Q(SR1,Ag1,0) =G= 25 ; (LHS = 0, INFES = 25 ****)
     
MinFlow(SR1,J1,0)..  Q(SR1,J1,0) =G= 10 ; (LHS = 0, INFES = 10 ****)
     

---- MaxFlow  =L=  

MaxFlow(J1,EndPt,0)..  Q(J1,EndPt,0) =L= 200 ; (LHS = 0)
     
MaxFlow(J1,Urb1,0)..  Q(J1,Urb1,0) =L= 220 ; (LHS = 0)
     
MaxFlow(SR1,Ag1,0)..  Q(SR1,Ag1,0) =L= 200 ; (LHS = 0)
     
MaxFlow(SR1,J1,0)..  Q(SR1,J1,0) =L= 310 ; (LHS = 0)
     

---- MaxStor  =L=  

MaxStor(SR1,0)..  S(SR1,0) =L= 500 ; (LHS = 0)
     

---- MinStor  =G=  

MinStor(SR1,0)..  S(SR1,0) =G= 10 ; (LHS = 0, INFES = 10 ****)
     

---- DemandEQ  =E=  

DemandEQ(Ag1)..  - Q(SR1,Ag1,0) + delivery(Ag1) =E= 0 ; (LHS = 0)
     
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 12
Demo2.gmdataset 1s
Equation Listing    SOLVE Demo2 Using LP From line 313


     DemandEQ  =E=  

DemandEQ(Urb1)..  - 0.95*Q(J1,Urb1,0) + delivery(Urb1) =E= 0 ; (LHS = 0)
     

---- Objective  =E=  

Objective..  - 10*Q(J1,EndPt,0) - Q(J1,Urb1,0) - 20*Q(SR1,Ag1,0) - 15*Q(SR1,J1,0) + Z =E= 0 ; (LHS = 0)
     
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 13
Demo2.gmdataset 1s
Column Listing      SOLVE Demo2 Using LP From line 313


---- Q  flow in each link in each period [1e6 m^3 mon^-1]

Q(J1,EndPt,0)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       MassBalance_nonstorage(J1)
        1       MinFlow(J1,EndPt,0)
        1       MaxFlow(J1,EndPt,0)
      -10       Objective

Q(J1,Urb1,0)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       MassBalance_nonstorage(J1)
        0.95    MassBalance_nonstorage(Urb1)
        1       MinFlow(J1,Urb1,0)
        1       MaxFlow(J1,Urb1,0)
       -0.95    DemandEQ(Urb1)
       -1       Objective

Q(SR1,Ag1,0)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       MassBalance_nonstorage(Ag1)
       -1       MassBalance_storage(SR1)
        1       MinFlow(SR1,Ag1,0)
        1       MaxFlow(SR1,Ag1,0)
       -1       DemandEQ(Ag1)
      -20       Objective

Q(SR1,J1,0)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       MassBalance_nonstorage(J1)
       -1       MassBalance_storage(SR1)
        1       MinFlow(SR1,J1,0)
        1       MaxFlow(SR1,J1,0)
      -15       Objective


---- S  storage volume in storage nodes [1e6 m^3]

S(SR1,0)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       MassBalance_storage(SR1)
        1       MaxStor(SR1,0)
        1       MinStor(SR1,0)


---- delivery  water delivered to demand node i in each period [1e6 m^3 mon^-1]

delivery(Ag1)
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
       -1       MassBalance_nonstorage(Ag1)
        1       DemandEQ(Ag1)

delivery(Urb1)
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 14
Demo2.gmdataset 1s
Column Listing      SOLVE Demo2 Using LP From line 313


     delivery  water delivered to demand node i in each period [1e6 m^3 mon^-1]

                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
       -1       MassBalance_nonstorage(Urb1)
        1       DemandEQ(Urb1)


---- Z  objective function [-]

Z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       Objective

GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 15
Demo2.gmdataset 1s
Model Statistics    SOLVE Demo2 Using LP From line 313


LOOPS                               tsteps   0


MODEL STATISTICS

BLOCKS OF EQUATIONS           8     SINGLE EQUATIONS           17
BLOCKS OF VARIABLES           4     SINGLE VARIABLES            8
NON ZERO ELEMENTS            29


GENERATION TIME      =        0.000 SECONDS      4 MB  24.3.3 r48116 WEX-WEI


EXECUTION TIME       =        0.000 SECONDS      4 MB  24.3.3 r48116 WEX-WEI
               L O O P S             tsteps 0

GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 16
Demo2.gmdataset 1s
Solution Report     SOLVE Demo2 Using LP From line 313


               S O L V E      S U M M A R Y

     MODEL   Demo2               OBJECTIVE  Z
     TYPE    LP                  DIRECTION  MINIMIZE
     SOLVER  CPLEX               FROM LINE  313

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      1 Optimal                   
**** OBJECTIVE VALUE             4190.0000

 RESOURCE USAGE, LIMIT          0.015      1000.000
 ITERATION COUNT, LIMIT         2    2000000000

IBM ILOG CPLEX   24.3.3 r48116 Released Sep 19, 2014 WEI x86 64bit/MS Windows 
Cplex 12.6.0.1

Space for names approximately 0.00 Mb
Use option 'names no' to turn use of names off
LP status(1): optimal
Cplex Time: 0.00sec (det. 0.01 ticks)
Optimal solution found.
Objective :        4190.000000


---- EQU MassBalance_nonstorage  

            LOWER          LEVEL          UPPER         MARGINAL

Ag1           .              .              .              .          
J1            .              .              .            -1.0000      
Urb1          .              .              .             EPS         

---- EQU MassBalance_storage  

           LOWER          LEVEL          UPPER         MARGINAL

SR1      -750.0000      -750.0000      -750.0000       -16.0000      

---- EQU MinFlow  

                   LOWER          LEVEL          UPPER         MARGINAL

J1 .EndPt.0        10.0000        10.0000        +INF            9.0000      
J1 .Urb1 .0        20.0000       215.0000        +INF             .          
SR1.Ag1  .0        25.0000        25.0000        +INF            4.0000      
SR1.J1   .0        10.0000       225.0000        +INF             .          
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 17
Demo2.gmdataset 1s
Solution Report     SOLVE Demo2 Using LP From line 313


---- EQU MaxFlow  

                   LOWER          LEVEL          UPPER         MARGINAL

J1 .EndPt.0        -INF           10.0000       200.0000          .          
J1 .Urb1 .0        -INF          215.0000       220.0000          .          
SR1.Ag1  .0        -INF           25.0000       200.0000          .          
SR1.J1   .0        -INF          225.0000       310.0000          .          

---- EQU MaxStor  

             LOWER          LEVEL          UPPER         MARGINAL

SR1.0        -INF          500.0000       500.0000       -16.0000      

---- EQU MinStor  

             LOWER          LEVEL          UPPER         MARGINAL

SR1.0        10.0000       500.0000        +INF             .          

---- EQU DemandEQ  

            LOWER          LEVEL          UPPER         MARGINAL

Ag1           .              .              .             EPS         
Urb1          .              .              .              .          

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU Objective           .              .              .             1.0000      

---- VAR Q  flow in each link in each period [1e6 m^3 mon^-1]

                   LOWER          LEVEL          UPPER         MARGINAL

J1 .EndPt.0          .            10.0000        +INF             .          
J1 .Urb1 .0          .           215.0000        +INF             .          
SR1.Ag1  .0          .            25.0000        +INF             .          
SR1.J1   .0          .           225.0000        +INF             .          

---- VAR S  storage volume in storage nodes [1e6 m^3]

             LOWER          LEVEL          UPPER         MARGINAL

SR1.0          .           500.0000        +INF             .          
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 18
Demo2.gmdataset 1s
Solution Report     SOLVE Demo2 Using LP From line 313


---- VAR delivery  water delivered to demand node i in each period [1e6 m^3 mon^-1]

            LOWER          LEVEL          UPPER         MARGINAL

Ag1         -INF           25.0000        +INF             .          
Urb1        -INF          204.2500        +INF             .          

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR Z                 -INF         4190.0000        +INF             .          

  Z  objective function [-]


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 19
Demo2.gmdataset 1s
E x e c u t i o n


----    316 VARIABLE Z.L                   =     4190.000  objective function [-]

----    316 VARIABLE Obj.L  [-]

0 4190.000


----    316 VARIABLE storage.L  an interim variable for saving the value of the storage at the end of each time-step

                0

SR1       500.000


----    316 VARIABLE S.L  storage volume in storage nodes [1e6 m^3]

              0

SR1     500.000


----    316 VARIABLE Q.L  flow in each link in each period [1e6 m^3 mon^-1]

                    0

J1 .EndPt      10.000
J1 .Urb1      215.000
SR1.Ag1        25.000
SR1.J1        225.000


----    316 VARIABLE delivery.L  water delivered to demand node i in each period [1e6 m^3 mon^-1]

Ag1   25.000,    Urb1 204.250


----    312 SET dv  

1

GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 20
Demo2.gmdataset 1s
Equation Listing    SOLVE Demo2 Using LP From line 313


---- MassBalance_nonstorage  =E=  

MassBalance_nonstorage(Ag1)..  Q(SR1,Ag1,1) - delivery(Ag1) =E= 0 ; (LHS = -25, INFES = 25 ****)
     
MassBalance_nonstorage(J1)..  - Q(J1,EndPt,1) - Q(J1,Urb1,1) + 0.9*Q(SR1,J1,1) =E= 0 ; (LHS = 0)
     
MassBalance_nonstorage(Urb1)..  0.85*Q(J1,Urb1,1) - delivery(Urb1) =E= 0 ; (LHS = -204.25, INFES = 204.25 ****)
     

---- MassBalance_storage  =E=  

MassBalance_storage(SR1)..  - Q(SR1,Ag1,1) - Q(SR1,J1,1) - S(SR1,1) + storage(SR1,0) =E= -320 ; (LHS = 500, INFES = 820 ****)
     

---- MinFlow  =G=  

MinFlow(J1,EndPt,1)..  Q(J1,EndPt,1) =G= 30 ; (LHS = 0, INFES = 30 ****)
     
MinFlow(J1,Urb1,1)..  Q(J1,Urb1,1) =G= 10 ; (LHS = 0, INFES = 10 ****)
     
MinFlow(SR1,Ag1,1)..  Q(SR1,Ag1,1) =G= 15 ; (LHS = 0, INFES = 15 ****)
     
MinFlow(SR1,J1,1)..  Q(SR1,J1,1) =G= 10 ; (LHS = 0, INFES = 10 ****)
     

---- MaxFlow  =L=  

MaxFlow(J1,EndPt,1)..  Q(J1,EndPt,1) =L= 200 ; (LHS = 0)
     
MaxFlow(J1,Urb1,1)..  Q(J1,Urb1,1) =L= 250 ; (LHS = 0)
     
MaxFlow(SR1,Ag1,1)..  Q(SR1,Ag1,1) =L= 210 ; (LHS = 0)
     
MaxFlow(SR1,J1,1)..  Q(SR1,J1,1) =L= 300 ; (LHS = 0)
     

---- MaxStor  =L=  

MaxStor(SR1,1)..  S(SR1,1) =L= 500 ; (LHS = 0)
     

---- MinStor  =G=  

MinStor(SR1,1)..  S(SR1,1) =G= 10 ; (LHS = 0, INFES = 10 ****)
     

---- DemandEQ  =E=  

DemandEQ(Ag1)..  - Q(SR1,Ag1,1) + delivery(Ag1) =E= 0 ; (LHS = 25, INFES = 25 ****)
     
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 21
Demo2.gmdataset 1s
Equation Listing    SOLVE Demo2 Using LP From line 313


     DemandEQ  =E=  

DemandEQ(Urb1)..  - 0.85*Q(J1,Urb1,1) + delivery(Urb1) =E= 0 ; (LHS = 204.25, INFES = 204.25 ****)
     

---- Objective  =E=  

Objective..  - 10*Q(J1,EndPt,1) - 10*Q(J1,Urb1,1) - 8*Q(SR1,Ag1,1) - 15*Q(SR1,J1,1) + Z =E= 0 ; (LHS = 4190, INFES = 4190 ****)
     
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 22
Demo2.gmdataset 1s
Column Listing      SOLVE Demo2 Using LP From line 313


---- Q  flow in each link in each period [1e6 m^3 mon^-1]

Q(J1,EndPt,1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       MassBalance_nonstorage(J1)
        1       MinFlow(J1,EndPt,1)
        1       MaxFlow(J1,EndPt,1)
      -10       Objective

Q(J1,Urb1,1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       MassBalance_nonstorage(J1)
        0.85    MassBalance_nonstorage(Urb1)
        1       MinFlow(J1,Urb1,1)
        1       MaxFlow(J1,Urb1,1)
       -0.85    DemandEQ(Urb1)
      -10       Objective

Q(SR1,Ag1,1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       MassBalance_nonstorage(Ag1)
       -1       MassBalance_storage(SR1)
        1       MinFlow(SR1,Ag1,1)
        1       MaxFlow(SR1,Ag1,1)
       -1       DemandEQ(Ag1)
       -8       Objective

Q(SR1,J1,1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        0.9     MassBalance_nonstorage(J1)
       -1       MassBalance_storage(SR1)
        1       MinFlow(SR1,J1,1)
        1       MaxFlow(SR1,J1,1)
      -15       Objective


---- S  storage volume in storage nodes [1e6 m^3]

S(SR1,1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       MassBalance_storage(SR1)
        1       MaxStor(SR1,1)
        1       MinStor(SR1,1)


---- delivery  water delivered to demand node i in each period [1e6 m^3 mon^-1]

delivery(Ag1)
                (.LO, .L, .UP, .M = -INF, 25, +INF, 0)
       -1       MassBalance_nonstorage(Ag1)
        1       DemandEQ(Ag1)

delivery(Urb1)
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 23
Demo2.gmdataset 1s
Column Listing      SOLVE Demo2 Using LP From line 313


     delivery  water delivered to demand node i in each period [1e6 m^3 mon^-1]

                (.LO, .L, .UP, .M = -INF, 204.25, +INF, 0)
       -1       MassBalance_nonstorage(Urb1)
        1       DemandEQ(Urb1)


---- Z  objective function [-]

Z
                (.LO, .L, .UP, .M = -INF, 4190, +INF, 0)
        1       Objective


---- storage  an interim variable for saving the value of the storage at the end of each time-step

storage(SR1,0)
                (.LO, .L, .UP, .M = 500, 500, 500, 0)
        1       MassBalance_storage(SR1)

GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 24
Demo2.gmdataset 1s
Model Statistics    SOLVE Demo2 Using LP From line 313


LOOPS                               tsteps   1


MODEL STATISTICS

BLOCKS OF EQUATIONS           8     SINGLE EQUATIONS           17
BLOCKS OF VARIABLES           5     SINGLE VARIABLES            9
NON ZERO ELEMENTS            30


GENERATION TIME      =        0.016 SECONDS      3 MB  24.3.3 r48116 WEX-WEI


EXECUTION TIME       =        0.016 SECONDS      3 MB  24.3.3 r48116 WEX-WEI
               L O O P S             tsteps 1

GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 25
Demo2.gmdataset 1s
Solution Report     SOLVE Demo2 Using LP From line 313


               S O L V E      S U M M A R Y

     MODEL   Demo2               OBJECTIVE  Z
     TYPE    LP                  DIRECTION  MINIMIZE
     SOLVER  CPLEX               FROM LINE  313

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      1 Optimal                   
**** OBJECTIVE VALUE             4320.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         0    2000000000

IBM ILOG CPLEX   24.3.3 r48116 Released Sep 19, 2014 WEI x86 64bit/MS Windows 
Cplex 12.6.0.1

Space for names approximately 0.00 Mb
Use option 'names no' to turn use of names off
LP status(1): optimal
Cplex Time: 0.00sec (det. 0.02 ticks)
Optimal solution found.
Objective :        4320.000000


---- EQU MassBalance_nonstorage  

            LOWER          LEVEL          UPPER         MARGINAL

Ag1           .              .              .              .          
J1            .              .              .           -10.0000      
Urb1          .              .              .             EPS         

---- EQU MassBalance_storage  

           LOWER          LEVEL          UPPER         MARGINAL

SR1      -320.0000      -320.0000      -320.0000       -24.0000      

---- EQU MinFlow  

                   LOWER          LEVEL          UPPER         MARGINAL

J1 .EndPt.1        30.0000        89.0000        +INF             .          
J1 .Urb1 .1        10.0000        10.0000        +INF            EPS         
SR1.Ag1  .1        15.0000       210.0000        +INF             .          
SR1.J1   .1        10.0000       110.0000        +INF             .          
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 26
Demo2.gmdataset 1s
Solution Report     SOLVE Demo2 Using LP From line 313


---- EQU MaxFlow  

                   LOWER          LEVEL          UPPER         MARGINAL

J1 .EndPt.1        -INF           89.0000       200.0000          .          
J1 .Urb1 .1        -INF           10.0000       250.0000          .          
SR1.Ag1  .1        -INF          210.0000       210.0000       -16.0000      
SR1.J1   .1        -INF          110.0000       300.0000          .          

---- EQU MaxStor  

             LOWER          LEVEL          UPPER         MARGINAL

SR1.1        -INF          500.0000       500.0000       -24.0000      

---- EQU MinStor  

             LOWER          LEVEL          UPPER         MARGINAL

SR1.1        10.0000       500.0000        +INF             .          

---- EQU DemandEQ  

            LOWER          LEVEL          UPPER         MARGINAL

Ag1           .              .              .             EPS         
Urb1          .              .              .              .          

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU Objective           .              .              .             1.0000      

---- VAR Q  flow in each link in each period [1e6 m^3 mon^-1]

                   LOWER          LEVEL          UPPER         MARGINAL

J1 .EndPt.1          .            89.0000        +INF             .          
J1 .Urb1 .1          .            10.0000        +INF             .          
SR1.Ag1  .1          .           210.0000        +INF             .          
SR1.J1   .1          .           110.0000        +INF             .          

---- VAR S  storage volume in storage nodes [1e6 m^3]

             LOWER          LEVEL          UPPER         MARGINAL

SR1.1          .           500.0000        +INF             .          
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 27
Demo2.gmdataset 1s
Solution Report     SOLVE Demo2 Using LP From line 313


---- VAR delivery  water delivered to demand node i in each period [1e6 m^3 mon^-1]

            LOWER          LEVEL          UPPER         MARGINAL

Ag1         -INF          210.0000        +INF             .          
Urb1        -INF            8.5000        +INF             .          

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR Z                 -INF         4320.0000        +INF             .          

  Z  objective function [-]

---- VAR storage  an interim variable for saving the value of the storage at the end of each time-step

             LOWER          LEVEL          UPPER         MARGINAL

SR1.0       500.0000       500.0000       500.0000        24.0000      


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 28
Demo2.gmdataset 1s
E x e c u t i o n


----    316 VARIABLE Z.L                   =     4320.000  objective function [-]

----    316 VARIABLE Obj.L  [-]

0 4190.000,    1 4320.000


----    316 VARIABLE storage.L  an interim variable for saving the value of the storage at the end of each time-step

                0           1

SR1       500.000     500.000


----    316 VARIABLE S.L  storage volume in storage nodes [1e6 m^3]

              0           1

SR1     500.000     500.000


----    316 VARIABLE Q.L  flow in each link in each period [1e6 m^3 mon^-1]

                    0           1

J1 .EndPt      10.000      89.000
J1 .Urb1      215.000      10.000
SR1.Ag1        25.000     210.000
SR1.J1        225.000     110.000


----    316 VARIABLE delivery.L  water delivered to demand node i in each period [1e6 m^3 mon^-1]

Ag1  210.000,    Urb1   8.500


----    312 SET dv  

2

GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 29
Demo2.gmdataset 1s
Equation Listing    SOLVE Demo2 Using LP From line 313


---- MassBalance_nonstorage  =E=  

MassBalance_nonstorage(Ag1)..  Q(SR1,Ag1,2) - delivery(Ag1) =E= 0 ; (LHS = -210, INFES = 210 ****)
     
MassBalance_nonstorage(J1)..  - Q(J1,EndPt,2) - Q(J1,Urb1,2) + Q(SR1,J1,2) =E= 0 ; (LHS = 0)
     
MassBalance_nonstorage(Urb1)..  0.9*Q(J1,Urb1,2) - delivery(Urb1) =E= 0 ; (LHS = -8.5, INFES = 8.5 ****)
     

---- MassBalance_storage  =E=  

MassBalance_storage(SR1)..  - Q(SR1,Ag1,2) - Q(SR1,J1,2) - S(SR1,2) + storage(SR1,1) =E= -320 ; (LHS = 500, INFES = 820 ****)
     

---- MinFlow  =G=  

MinFlow(J1,EndPt,2)..  Q(J1,EndPt,2) =G= 30 ; (LHS = 0, INFES = 30 ****)
     
MinFlow(J1,Urb1,2)..  Q(J1,Urb1,2) =G= 25 ; (LHS = 0, INFES = 25 ****)
     
MinFlow(SR1,Ag1,2)..  Q(SR1,Ag1,2) =G= 10 ; (LHS = 0, INFES = 10 ****)
     
MinFlow(SR1,J1,2)..  Q(SR1,J1,2) =G= 10 ; (LHS = 0, INFES = 10 ****)
     

---- MaxFlow  =L=  

MaxFlow(J1,EndPt,2)..  Q(J1,EndPt,2) =L= 200 ; (LHS = 0)
     
MaxFlow(J1,Urb1,2)..  Q(J1,Urb1,2) =L= 240 ; (LHS = 0)
     
MaxFlow(SR1,Ag1,2)..  Q(SR1,Ag1,2) =L= 210 ; (LHS = 0)
     
MaxFlow(SR1,J1,2)..  Q(SR1,J1,2) =L= 300 ; (LHS = 0)
     

---- MaxStor  =L=  

MaxStor(SR1,2)..  S(SR1,2) =L= 500 ; (LHS = 0)
     

---- MinStor  =G=  

MinStor(SR1,2)..  S(SR1,2) =G= 10 ; (LHS = 0, INFES = 10 ****)
     

---- DemandEQ  =E=  

DemandEQ(Ag1)..  - Q(SR1,Ag1,2) + delivery(Ag1) =E= 0 ; (LHS = 210, INFES = 210 ****)
     
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 30
Demo2.gmdataset 1s
Equation Listing    SOLVE Demo2 Using LP From line 313


     DemandEQ  =E=  

DemandEQ(Urb1)..  - 0.9*Q(J1,Urb1,2) + delivery(Urb1) =E= 0 ; (LHS = 8.5, INFES = 8.5 ****)
     

---- Objective  =E=  

Objective..  - 10*Q(J1,EndPt,2) - 7*Q(J1,Urb1,2) - 20*Q(SR1,Ag1,2) - 15*Q(SR1,J1,2) + Z =E= 0 ; (LHS = 4320, INFES = 4320 ****)
     
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 31
Demo2.gmdataset 1s
Column Listing      SOLVE Demo2 Using LP From line 313


---- Q  flow in each link in each period [1e6 m^3 mon^-1]

Q(J1,EndPt,2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       MassBalance_nonstorage(J1)
        1       MinFlow(J1,EndPt,2)
        1       MaxFlow(J1,EndPt,2)
      -10       Objective

Q(J1,Urb1,2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       MassBalance_nonstorage(J1)
        0.9     MassBalance_nonstorage(Urb1)
        1       MinFlow(J1,Urb1,2)
        1       MaxFlow(J1,Urb1,2)
       -0.9     DemandEQ(Urb1)
       -7       Objective

Q(SR1,Ag1,2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       MassBalance_nonstorage(Ag1)
       -1       MassBalance_storage(SR1)
        1       MinFlow(SR1,Ag1,2)
        1       MaxFlow(SR1,Ag1,2)
       -1       DemandEQ(Ag1)
      -20       Objective

Q(SR1,J1,2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       MassBalance_nonstorage(J1)
       -1       MassBalance_storage(SR1)
        1       MinFlow(SR1,J1,2)
        1       MaxFlow(SR1,J1,2)
      -15       Objective


---- S  storage volume in storage nodes [1e6 m^3]

S(SR1,2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       MassBalance_storage(SR1)
        1       MaxStor(SR1,2)
        1       MinStor(SR1,2)


---- delivery  water delivered to demand node i in each period [1e6 m^3 mon^-1]

delivery(Ag1)
                (.LO, .L, .UP, .M = -INF, 210, +INF, 0)
       -1       MassBalance_nonstorage(Ag1)
        1       DemandEQ(Ag1)

delivery(Urb1)
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 32
Demo2.gmdataset 1s
Column Listing      SOLVE Demo2 Using LP From line 313


     delivery  water delivered to demand node i in each period [1e6 m^3 mon^-1]

                (.LO, .L, .UP, .M = -INF, 8.5, +INF, 0)
       -1       MassBalance_nonstorage(Urb1)
        1       DemandEQ(Urb1)


---- Z  objective function [-]

Z
                (.LO, .L, .UP, .M = -INF, 4320, +INF, 0)
        1       Objective


---- storage  an interim variable for saving the value of the storage at the end of each time-step

storage(SR1,1)
                (.LO, .L, .UP, .M = 500, 500, 500, 0)
        1       MassBalance_storage(SR1)

GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 33
Demo2.gmdataset 1s
Model Statistics    SOLVE Demo2 Using LP From line 313


LOOPS                               tsteps   2


MODEL STATISTICS

BLOCKS OF EQUATIONS           8     SINGLE EQUATIONS           17
BLOCKS OF VARIABLES           5     SINGLE VARIABLES            9
NON ZERO ELEMENTS            30


GENERATION TIME      =        0.000 SECONDS      3 MB  24.3.3 r48116 WEX-WEI


EXECUTION TIME       =        0.000 SECONDS      3 MB  24.3.3 r48116 WEX-WEI
               L O O P S             tsteps 2

GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 34
Demo2.gmdataset 1s
Solution Report     SOLVE Demo2 Using LP From line 313


               S O L V E      S U M M A R Y

     MODEL   Demo2               OBJECTIVE  Z
     TYPE    LP                  DIRECTION  MINIMIZE
     SOLVER  CPLEX               FROM LINE  313

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      1 Optimal                   
**** OBJECTIVE VALUE             6710.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         1    2000000000

IBM ILOG CPLEX   24.3.3 r48116 Released Sep 19, 2014 WEI x86 64bit/MS Windows 
Cplex 12.6.0.1

Space for names approximately 0.00 Mb
Use option 'names no' to turn use of names off
LP status(1): optimal
Cplex Time: 0.00sec (det. 0.03 ticks)
Optimal solution found.
Objective :        6710.000000


---- EQU MassBalance_nonstorage  

            LOWER          LEVEL          UPPER         MARGINAL

Ag1           .              .              .              .          
J1            .              .              .            -7.0000      
Urb1          .              .              .             EPS         

---- EQU MassBalance_storage  

           LOWER          LEVEL          UPPER         MARGINAL

SR1      -320.0000      -320.0000      -320.0000       -22.0000      

---- EQU MinFlow  

                   LOWER          LEVEL          UPPER         MARGINAL

J1 .EndPt.2        30.0000        30.0000        +INF            3.0000      
J1 .Urb1 .2        25.0000        80.0000        +INF             .          
SR1.Ag1  .2        10.0000       210.0000        +INF             .          
SR1.J1   .2        10.0000       110.0000        +INF             .          
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 35
Demo2.gmdataset 1s
Solution Report     SOLVE Demo2 Using LP From line 313


---- EQU MaxFlow  

                   LOWER          LEVEL          UPPER         MARGINAL

J1 .EndPt.2        -INF           30.0000       200.0000          .          
J1 .Urb1 .2        -INF           80.0000       240.0000          .          
SR1.Ag1  .2        -INF          210.0000       210.0000        -2.0000      
SR1.J1   .2        -INF          110.0000       300.0000          .          

---- EQU MaxStor  

             LOWER          LEVEL          UPPER         MARGINAL

SR1.2        -INF          500.0000       500.0000       -22.0000      

---- EQU MinStor  

             LOWER          LEVEL          UPPER         MARGINAL

SR1.2        10.0000       500.0000        +INF             .          

---- EQU DemandEQ  

            LOWER          LEVEL          UPPER         MARGINAL

Ag1           .              .              .             EPS         
Urb1          .              .              .              .          

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU Objective           .              .              .             1.0000      

---- VAR Q  flow in each link in each period [1e6 m^3 mon^-1]

                   LOWER          LEVEL          UPPER         MARGINAL

J1 .EndPt.2          .            30.0000        +INF             .          
J1 .Urb1 .2          .            80.0000        +INF             .          
SR1.Ag1  .2          .           210.0000        +INF             .          
SR1.J1   .2          .           110.0000        +INF             .          

---- VAR S  storage volume in storage nodes [1e6 m^3]

             LOWER          LEVEL          UPPER         MARGINAL

SR1.2          .           500.0000        +INF             .          
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 36
Demo2.gmdataset 1s
Solution Report     SOLVE Demo2 Using LP From line 313


---- VAR delivery  water delivered to demand node i in each period [1e6 m^3 mon^-1]

            LOWER          LEVEL          UPPER         MARGINAL

Ag1         -INF          210.0000        +INF             .          
Urb1        -INF           72.0000        +INF             .          

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR Z                 -INF         6710.0000        +INF             .          

  Z  objective function [-]

---- VAR storage  an interim variable for saving the value of the storage at the end of each time-step

             LOWER          LEVEL          UPPER         MARGINAL

SR1.1       500.0000       500.0000       500.0000        22.0000      


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 37
Demo2.gmdataset 1s
E x e c u t i o n


----    316 VARIABLE Z.L                   =     6710.000  objective function [-]

----    316 VARIABLE Obj.L  [-]

0 4190.000,    1 4320.000,    2 6710.000


----    316 VARIABLE storage.L  an interim variable for saving the value of the storage at the end of each time-step

                0           1           2

SR1       500.000     500.000     500.000


----    316 VARIABLE S.L  storage volume in storage nodes [1e6 m^3]

              0           1           2

SR1     500.000     500.000     500.000


----    316 VARIABLE Q.L  flow in each link in each period [1e6 m^3 mon^-1]

                    0           1           2

J1 .EndPt      10.000      89.000      30.000
J1 .Urb1      215.000      10.000      80.000
SR1.Ag1        25.000     210.000     210.000
SR1.J1        225.000     110.000     110.000


----    316 VARIABLE delivery.L  water delivered to demand node i in each period [1e6 m^3 mon^-1]

Ag1  210.000,    Urb1  72.000


----    312 SET dv  

3

GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 38
Demo2.gmdataset 1s
Equation Listing    SOLVE Demo2 Using LP From line 313


---- MassBalance_nonstorage  =E=  

MassBalance_nonstorage(Ag1)..  Q(SR1,Ag1,3) - delivery(Ag1) =E= 0 ; (LHS = -210, INFES = 210 ****)
     
MassBalance_nonstorage(J1)..  - Q(J1,EndPt,3) - Q(J1,Urb1,3) + 0.95*Q(SR1,J1,3) =E= 0 ; (LHS = 0)
     
MassBalance_nonstorage(Urb1)..  0.85*Q(J1,Urb1,3) - delivery(Urb1) =E= 0 ; (LHS = -72, INFES = 72 ****)
     

---- MassBalance_storage  =E=  

MassBalance_storage(SR1)..  - Q(SR1,Ag1,3) - Q(SR1,J1,3) - S(SR1,3) + storage(SR1,2) =E= -330 ; (LHS = 500, INFES = 830 ****)
     

---- MinFlow  =G=  

MinFlow(J1,EndPt,3)..  Q(J1,EndPt,3) =G= 30 ; (LHS = 0, INFES = 30 ****)
     
MinFlow(J1,Urb1,3)..  Q(J1,Urb1,3) =G= 20 ; (LHS = 0, INFES = 20 ****)
     
MinFlow(SR1,Ag1,3)..  Q(SR1,Ag1,3) =G= 10 ; (LHS = 0, INFES = 10 ****)
     
MinFlow(SR1,J1,3)..  Q(SR1,J1,3) =G= 10 ; (LHS = 0, INFES = 10 ****)
     

---- MaxFlow  =L=  

MaxFlow(J1,EndPt,3)..  Q(J1,EndPt,3) =L= 200 ; (LHS = 0)
     
MaxFlow(J1,Urb1,3)..  Q(J1,Urb1,3) =L= 230 ; (LHS = 0)
     
MaxFlow(SR1,Ag1,3)..  Q(SR1,Ag1,3) =L= 200 ; (LHS = 0)
     
MaxFlow(SR1,J1,3)..  Q(SR1,J1,3) =L= 300 ; (LHS = 0)
     

---- MaxStor  =L=  

MaxStor(SR1,3)..  S(SR1,3) =L= 500 ; (LHS = 0)
     

---- MinStor  =G=  

MinStor(SR1,3)..  S(SR1,3) =G= 10 ; (LHS = 0, INFES = 10 ****)
     

---- DemandEQ  =E=  

DemandEQ(Ag1)..  - Q(SR1,Ag1,3) + delivery(Ag1) =E= 0 ; (LHS = 210, INFES = 210 ****)
     
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 39
Demo2.gmdataset 1s
Equation Listing    SOLVE Demo2 Using LP From line 313


     DemandEQ  =E=  

DemandEQ(Urb1)..  - 0.85*Q(J1,Urb1,3) + delivery(Urb1) =E= 0 ; (LHS = 72, INFES = 72 ****)
     

---- Objective  =E=  

Objective..  - 10*Q(J1,EndPt,3) - 2*Q(J1,Urb1,3) - 15*Q(SR1,Ag1,3) - 15*Q(SR1,J1,3) + Z =E= 0 ; (LHS = 6710, INFES = 6710 ****)
     
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 40
Demo2.gmdataset 1s
Column Listing      SOLVE Demo2 Using LP From line 313


---- Q  flow in each link in each period [1e6 m^3 mon^-1]

Q(J1,EndPt,3)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       MassBalance_nonstorage(J1)
        1       MinFlow(J1,EndPt,3)
        1       MaxFlow(J1,EndPt,3)
      -10       Objective

Q(J1,Urb1,3)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       MassBalance_nonstorage(J1)
        0.85    MassBalance_nonstorage(Urb1)
        1       MinFlow(J1,Urb1,3)
        1       MaxFlow(J1,Urb1,3)
       -0.85    DemandEQ(Urb1)
       -2       Objective

Q(SR1,Ag1,3)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       MassBalance_nonstorage(Ag1)
       -1       MassBalance_storage(SR1)
        1       MinFlow(SR1,Ag1,3)
        1       MaxFlow(SR1,Ag1,3)
       -1       DemandEQ(Ag1)
      -15       Objective

Q(SR1,J1,3)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        0.95    MassBalance_nonstorage(J1)
       -1       MassBalance_storage(SR1)
        1       MinFlow(SR1,J1,3)
        1       MaxFlow(SR1,J1,3)
      -15       Objective


---- S  storage volume in storage nodes [1e6 m^3]

S(SR1,3)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       MassBalance_storage(SR1)
        1       MaxStor(SR1,3)
        1       MinStor(SR1,3)


---- delivery  water delivered to demand node i in each period [1e6 m^3 mon^-1]

delivery(Ag1)
                (.LO, .L, .UP, .M = -INF, 210, +INF, 0)
       -1       MassBalance_nonstorage(Ag1)
        1       DemandEQ(Ag1)

delivery(Urb1)
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 41
Demo2.gmdataset 1s
Column Listing      SOLVE Demo2 Using LP From line 313


     delivery  water delivered to demand node i in each period [1e6 m^3 mon^-1]

                (.LO, .L, .UP, .M = -INF, 72, +INF, 0)
       -1       MassBalance_nonstorage(Urb1)
        1       DemandEQ(Urb1)


---- Z  objective function [-]

Z
                (.LO, .L, .UP, .M = -INF, 6710, +INF, 0)
        1       Objective


---- storage  an interim variable for saving the value of the storage at the end of each time-step

storage(SR1,2)
                (.LO, .L, .UP, .M = 500, 500, 500, 0)
        1       MassBalance_storage(SR1)

GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 42
Demo2.gmdataset 1s
Model Statistics    SOLVE Demo2 Using LP From line 313


LOOPS                               tsteps   3


MODEL STATISTICS

BLOCKS OF EQUATIONS           8     SINGLE EQUATIONS           17
BLOCKS OF VARIABLES           5     SINGLE VARIABLES            9
NON ZERO ELEMENTS            30


GENERATION TIME      =        0.000 SECONDS      3 MB  24.3.3 r48116 WEX-WEI


EXECUTION TIME       =        0.000 SECONDS      3 MB  24.3.3 r48116 WEX-WEI
               L O O P S             tsteps 3

GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 43
Demo2.gmdataset 1s
Solution Report     SOLVE Demo2 Using LP From line 313


               S O L V E      S U M M A R Y

     MODEL   Demo2               OBJECTIVE  Z
     TYPE    LP                  DIRECTION  MINIMIZE
     SOLVER  CPLEX               FROM LINE  313

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      1 Optimal                   
**** OBJECTIVE VALUE             5437.0000

 RESOURCE USAGE, LIMIT          0.000      1000.000
 ITERATION COUNT, LIMIT         1    2000000000

IBM ILOG CPLEX   24.3.3 r48116 Released Sep 19, 2014 WEI x86 64bit/MS Windows 
Cplex 12.6.0.1

Space for names approximately 0.00 Mb
Use option 'names no' to turn use of names off
LP status(1): optimal
Cplex Time: 0.00sec (det. 0.03 ticks)
Optimal solution found.
Objective :        5437.000000


---- EQU MassBalance_nonstorage  

            LOWER          LEVEL          UPPER         MARGINAL

Ag1           .              .              .              .          
J1            .              .              .            -2.0000      
Urb1          .              .              .             EPS         

---- EQU MassBalance_storage  

           LOWER          LEVEL          UPPER         MARGINAL

SR1      -330.0000      -330.0000      -330.0000       -16.9000      

---- EQU MinFlow  

                   LOWER          LEVEL          UPPER         MARGINAL

J1 .EndPt.3        30.0000        30.0000        +INF            8.0000      
J1 .Urb1 .3        20.0000        93.5000        +INF             .          
SR1.Ag1  .3        10.0000       200.0000        +INF             .          
SR1.J1   .3        10.0000       130.0000        +INF             .          
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 44
Demo2.gmdataset 1s
Solution Report     SOLVE Demo2 Using LP From line 313


---- EQU MaxFlow  

                   LOWER          LEVEL          UPPER         MARGINAL

J1 .EndPt.3        -INF           30.0000       200.0000          .          
J1 .Urb1 .3        -INF           93.5000       230.0000          .          
SR1.Ag1  .3        -INF          200.0000       200.0000        -1.9000      
SR1.J1   .3        -INF          130.0000       300.0000          .          

---- EQU MaxStor  

             LOWER          LEVEL          UPPER         MARGINAL

SR1.3        -INF          500.0000       500.0000       -16.9000      

---- EQU MinStor  

             LOWER          LEVEL          UPPER         MARGINAL

SR1.3        10.0000       500.0000        +INF             .          

---- EQU DemandEQ  

            LOWER          LEVEL          UPPER         MARGINAL

Ag1           .              .              .             EPS         
Urb1          .              .              .              .          

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU Objective           .              .              .             1.0000      

---- VAR Q  flow in each link in each period [1e6 m^3 mon^-1]

                   LOWER          LEVEL          UPPER         MARGINAL

J1 .EndPt.3          .            30.0000        +INF             .          
J1 .Urb1 .3          .            93.5000        +INF             .          
SR1.Ag1  .3          .           200.0000        +INF             .          
SR1.J1   .3          .           130.0000        +INF             .          

---- VAR S  storage volume in storage nodes [1e6 m^3]

             LOWER          LEVEL          UPPER         MARGINAL

SR1.3          .           500.0000        +INF             .          
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 45
Demo2.gmdataset 1s
Solution Report     SOLVE Demo2 Using LP From line 313


---- VAR delivery  water delivered to demand node i in each period [1e6 m^3 mon^-1]

            LOWER          LEVEL          UPPER         MARGINAL

Ag1         -INF          200.0000        +INF             .          
Urb1        -INF           79.4750        +INF             .          

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR Z                 -INF         5437.0000        +INF             .          

  Z  objective function [-]

---- VAR storage  an interim variable for saving the value of the storage at the end of each time-step

             LOWER          LEVEL          UPPER         MARGINAL

SR1.2       500.0000       500.0000       500.0000        16.9000      


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 46
Demo2.gmdataset 1s
E x e c u t i o n


----    316 VARIABLE Z.L                   =     5437.000  objective function [-]

----    316 VARIABLE Obj.L  [-]

0 4190.000,    1 4320.000,    2 6710.000,    3 5437.000


----    316 VARIABLE storage.L  an interim variable for saving the value of the storage at the end of each time-step

                0           1           2           3

SR1       500.000     500.000     500.000     500.000


----    316 VARIABLE S.L  storage volume in storage nodes [1e6 m^3]

              0           1           2           3

SR1     500.000     500.000     500.000     500.000


----    316 VARIABLE Q.L  flow in each link in each period [1e6 m^3 mon^-1]

                    0           1           2           3

J1 .EndPt      10.000      89.000      30.000      30.000
J1 .Urb1      215.000      10.000      80.000      93.500
SR1.Ag1        25.000     210.000     210.000     200.000
SR1.J1        225.000     110.000     110.000     130.000


----    316 VARIABLE delivery.L  water delivered to demand node i in each period [1e6 m^3 mon^-1]

Ag1  200.000,    Urb1  79.475


----    312 SET dv  

4

GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 47
Demo2.gmdataset 1s
Equation Listing    SOLVE Demo2 Using LP From line 313


---- MassBalance_nonstorage  =E=  

MassBalance_nonstorage(Ag1)..  Q(SR1,Ag1,4) - delivery(Ag1) =E= 0 ; (LHS = -200, INFES = 200 ****)
     
MassBalance_nonstorage(J1)..  - Q(J1,EndPt,4) - Q(J1,Urb1,4) + Q(SR1,J1,4) =E= 0 ; (LHS = 0)
     
MassBalance_nonstorage(Urb1)..  0.9*Q(J1,Urb1,4) - delivery(Urb1) =E= 0 ; (LHS = -79.475, INFES = 79.475 ****)
     

---- MassBalance_storage  =E=  

MassBalance_storage(SR1)..  - Q(SR1,Ag1,4) - Q(SR1,J1,4) - S(SR1,4) + storage(SR1,3) =E= -310 ; (LHS = 500, INFES = 810 ****)
     

---- MinFlow  =G=  

MinFlow(J1,EndPt,4)..  Q(J1,EndPt,4) =G= 30 ; (LHS = 0, INFES = 30 ****)
     
MinFlow(J1,Urb1,4)..  Q(J1,Urb1,4) =G= 20 ; (LHS = 0, INFES = 20 ****)
     
MinFlow(SR1,Ag1,4)..  Q(SR1,Ag1,4) =G= 15 ; (LHS = 0, INFES = 15 ****)
     
MinFlow(SR1,J1,4)..  Q(SR1,J1,4) =G= 10 ; (LHS = 0, INFES = 10 ****)
     

---- MaxFlow  =L=  

MaxFlow(J1,EndPt,4)..  Q(J1,EndPt,4) =L= 200 ; (LHS = 0)
     
MaxFlow(J1,Urb1,4)..  Q(J1,Urb1,4) =L= 240 ; (LHS = 0)
     
MaxFlow(SR1,Ag1,4)..  Q(SR1,Ag1,4) =L= 200 ; (LHS = 0)
     
MaxFlow(SR1,J1,4)..  Q(SR1,J1,4) =L= 310 ; (LHS = 0)
     

---- MaxStor  =L=  

MaxStor(SR1,4)..  S(SR1,4) =L= 500 ; (LHS = 0)
     

---- MinStor  =G=  

MinStor(SR1,4)..  S(SR1,4) =G= 10 ; (LHS = 0, INFES = 10 ****)
     

---- DemandEQ  =E=  

DemandEQ(Ag1)..  - Q(SR1,Ag1,4) + delivery(Ag1) =E= 0 ; (LHS = 200, INFES = 200 ****)
     
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 48
Demo2.gmdataset 1s
Equation Listing    SOLVE Demo2 Using LP From line 313


     DemandEQ  =E=  

DemandEQ(Urb1)..  - 0.9*Q(J1,Urb1,4) + delivery(Urb1) =E= 0 ; (LHS = 79.475, INFES = 79.475 ****)
     

---- Objective  =E=  

Objective..  - 10*Q(J1,EndPt,4) - 3*Q(J1,Urb1,4) - 19*Q(SR1,Ag1,4) - 15*Q(SR1,J1,4) + Z =E= 0 ; (LHS = 5437, INFES = 5437 ****)
     
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 49
Demo2.gmdataset 1s
Column Listing      SOLVE Demo2 Using LP From line 313


---- Q  flow in each link in each period [1e6 m^3 mon^-1]

Q(J1,EndPt,4)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       MassBalance_nonstorage(J1)
        1       MinFlow(J1,EndPt,4)
        1       MaxFlow(J1,EndPt,4)
      -10       Objective

Q(J1,Urb1,4)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       MassBalance_nonstorage(J1)
        0.9     MassBalance_nonstorage(Urb1)
        1       MinFlow(J1,Urb1,4)
        1       MaxFlow(J1,Urb1,4)
       -0.9     DemandEQ(Urb1)
       -3       Objective

Q(SR1,Ag1,4)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       MassBalance_nonstorage(Ag1)
       -1       MassBalance_storage(SR1)
        1       MinFlow(SR1,Ag1,4)
        1       MaxFlow(SR1,Ag1,4)
       -1       DemandEQ(Ag1)
      -19       Objective

Q(SR1,J1,4)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       MassBalance_nonstorage(J1)
       -1       MassBalance_storage(SR1)
        1       MinFlow(SR1,J1,4)
        1       MaxFlow(SR1,J1,4)
      -15       Objective


---- S  storage volume in storage nodes [1e6 m^3]

S(SR1,4)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       MassBalance_storage(SR1)
        1       MaxStor(SR1,4)
        1       MinStor(SR1,4)


---- delivery  water delivered to demand node i in each period [1e6 m^3 mon^-1]

delivery(Ag1)
                (.LO, .L, .UP, .M = -INF, 200, +INF, 0)
       -1       MassBalance_nonstorage(Ag1)
        1       DemandEQ(Ag1)

delivery(Urb1)
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 50
Demo2.gmdataset 1s
Column Listing      SOLVE Demo2 Using LP From line 313


     delivery  water delivered to demand node i in each period [1e6 m^3 mon^-1]

                (.LO, .L, .UP, .M = -INF, 79.475, +INF, 0)
       -1       MassBalance_nonstorage(Urb1)
        1       DemandEQ(Urb1)


---- Z  objective function [-]

Z
                (.LO, .L, .UP, .M = -INF, 5437, +INF, 0)
        1       Objective


---- storage  an interim variable for saving the value of the storage at the end of each time-step

storage(SR1,3)
                (.LO, .L, .UP, .M = 500, 500, 500, 0)
        1       MassBalance_storage(SR1)

GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 51
Demo2.gmdataset 1s
Model Statistics    SOLVE Demo2 Using LP From line 313


LOOPS                               tsteps   4


MODEL STATISTICS

BLOCKS OF EQUATIONS           8     SINGLE EQUATIONS           17
BLOCKS OF VARIABLES           5     SINGLE VARIABLES            9
NON ZERO ELEMENTS            30


GENERATION TIME      =        0.000 SECONDS      3 MB  24.3.3 r48116 WEX-WEI


EXECUTION TIME       =        0.000 SECONDS      3 MB  24.3.3 r48116 WEX-WEI
               L O O P S             tsteps 4

GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 52
Demo2.gmdataset 1s
Solution Report     SOLVE Demo2 Using LP From line 313


               S O L V E      S U M M A R Y

     MODEL   Demo2               OBJECTIVE  Z
     TYPE    LP                  DIRECTION  MINIMIZE
     SOLVER  CPLEX               FROM LINE  313

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      1 Optimal                   
**** OBJECTIVE VALUE             5830.0000

 RESOURCE USAGE, LIMIT          0.015      1000.000
 ITERATION COUNT, LIMIT         2    2000000000

IBM ILOG CPLEX   24.3.3 r48116 Released Sep 19, 2014 WEI x86 64bit/MS Windows 
Cplex 12.6.0.1

Space for names approximately 0.00 Mb
Use option 'names no' to turn use of names off
LP status(1): optimal
Cplex Time: 0.01sec (det. 0.03 ticks)
Optimal solution found.
Objective :        5830.000000


---- EQU MassBalance_nonstorage  

            LOWER          LEVEL          UPPER         MARGINAL

Ag1           .              .              .              .          
J1            .              .              .            -4.0000      
Urb1          .              .              .             EPS         

---- EQU MassBalance_storage  

           LOWER          LEVEL          UPPER         MARGINAL

SR1      -310.0000      -310.0000      -310.0000       -19.0000      

---- EQU MinFlow  

                   LOWER          LEVEL          UPPER         MARGINAL

J1 .EndPt.4        30.0000        30.0000        +INF            6.0000      
J1 .Urb1 .4        20.0000       240.0000        +INF             .          
SR1.Ag1  .4        15.0000        40.0000        +INF             .          
SR1.J1   .4        10.0000       270.0000        +INF             .          
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 53
Demo2.gmdataset 1s
Solution Report     SOLVE Demo2 Using LP From line 313


---- EQU MaxFlow  

                   LOWER          LEVEL          UPPER         MARGINAL

J1 .EndPt.4        -INF           30.0000       200.0000          .          
J1 .Urb1 .4        -INF          240.0000       240.0000        -1.0000      
SR1.Ag1  .4        -INF           40.0000       200.0000          .          
SR1.J1   .4        -INF          270.0000       310.0000          .          

---- EQU MaxStor  

             LOWER          LEVEL          UPPER         MARGINAL

SR1.4        -INF          500.0000       500.0000       -19.0000      

---- EQU MinStor  

             LOWER          LEVEL          UPPER         MARGINAL

SR1.4        10.0000       500.0000        +INF             .          

---- EQU DemandEQ  

            LOWER          LEVEL          UPPER         MARGINAL

Ag1           .              .              .             EPS         
Urb1          .              .              .              .          

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU Objective           .              .              .             1.0000      

---- VAR Q  flow in each link in each period [1e6 m^3 mon^-1]

                   LOWER          LEVEL          UPPER         MARGINAL

J1 .EndPt.4          .            30.0000        +INF             .          
J1 .Urb1 .4          .           240.0000        +INF             .          
SR1.Ag1  .4          .            40.0000        +INF             .          
SR1.J1   .4          .           270.0000        +INF             .          

---- VAR S  storage volume in storage nodes [1e6 m^3]

             LOWER          LEVEL          UPPER         MARGINAL

SR1.4          .           500.0000        +INF             .          
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 54
Demo2.gmdataset 1s
Solution Report     SOLVE Demo2 Using LP From line 313


---- VAR delivery  water delivered to demand node i in each period [1e6 m^3 mon^-1]

            LOWER          LEVEL          UPPER         MARGINAL

Ag1         -INF           40.0000        +INF             .          
Urb1        -INF          216.0000        +INF             .          

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR Z                 -INF         5830.0000        +INF             .          

  Z  objective function [-]

---- VAR storage  an interim variable for saving the value of the storage at the end of each time-step

             LOWER          LEVEL          UPPER         MARGINAL

SR1.3       500.0000       500.0000       500.0000        19.0000      


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 55
Demo2.gmdataset 1s
E x e c u t i o n


----    316 VARIABLE Z.L                   =     5830.000  objective function [-]

----    316 VARIABLE Obj.L  [-]

0 4190.000,    1 4320.000,    2 6710.000,    3 5437.000,    4 5830.000


----    316 VARIABLE storage.L  an interim variable for saving the value of the storage at the end of each time-step

                0           1           2           3           4

SR1       500.000     500.000     500.000     500.000     500.000


----    316 VARIABLE S.L  storage volume in storage nodes [1e6 m^3]

              0           1           2           3           4

SR1     500.000     500.000     500.000     500.000     500.000


----    316 VARIABLE Q.L  flow in each link in each period [1e6 m^3 mon^-1]

                    0           1           2           3           4

J1 .EndPt      10.000      89.000      30.000      30.000      30.000
J1 .Urb1      215.000      10.000      80.000      93.500     240.000
SR1.Ag1        25.000     210.000     210.000     200.000      40.000
SR1.J1        225.000     110.000     110.000     130.000     270.000


----    316 VARIABLE delivery.L  water delivered to demand node i in each period [1e6 m^3 mon^-1]

Ag1   40.000,    Urb1 216.000


----    312 SET dv  

5

GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 56
Demo2.gmdataset 1s
Equation Listing    SOLVE Demo2 Using LP From line 313


---- MassBalance_nonstorage  =E=  

MassBalance_nonstorage(Ag1)..  Q(SR1,Ag1,5) - delivery(Ag1) =E= 0 ; (LHS = -40, INFES = 40 ****)
     
MassBalance_nonstorage(J1)..  - Q(J1,EndPt,5) - Q(J1,Urb1,5) + Q(SR1,J1,5) =E= 0 ; (LHS = 0)
     
MassBalance_nonstorage(Urb1)..  Q(J1,Urb1,5) - delivery(Urb1) =E= 0 ; (LHS = -216, INFES = 216 ****)
     

---- MassBalance_storage  =E=  

MassBalance_storage(SR1)..  - Q(SR1,Ag1,5) - Q(SR1,J1,5) - S(SR1,5) + storage(SR1,4) =E= -310 ; (LHS = 500, INFES = 810 ****)
     

---- MinFlow  =G=  

MinFlow(J1,EndPt,5)..  Q(J1,EndPt,5) =G= 30 ; (LHS = 0, INFES = 30 ****)
     
MinFlow(J1,Urb1,5)..  Q(J1,Urb1,5) =G= 20 ; (LHS = 0, INFES = 20 ****)
     
MinFlow(SR1,Ag1,5)..  Q(SR1,Ag1,5) =G= 15 ; (LHS = 0, INFES = 15 ****)
     
MinFlow(SR1,J1,5)..  Q(SR1,J1,5) =G= 10 ; (LHS = 0, INFES = 10 ****)
     

---- MaxFlow  =L=  

MaxFlow(J1,EndPt,5)..  Q(J1,EndPt,5) =L= 200 ; (LHS = 0)
     
MaxFlow(J1,Urb1,5)..  Q(J1,Urb1,5) =L= 250 ; (LHS = 0)
     
MaxFlow(SR1,Ag1,5)..  Q(SR1,Ag1,5) =L= 200 ; (LHS = 0)
     
MaxFlow(SR1,J1,5)..  Q(SR1,J1,5) =L= 300 ; (LHS = 0)
     

---- MaxStor  =L=  

MaxStor(SR1,5)..  S(SR1,5) =L= 500 ; (LHS = 0)
     

---- MinStor  =G=  

MinStor(SR1,5)..  S(SR1,5) =G= 10 ; (LHS = 0, INFES = 10 ****)
     

---- DemandEQ  =E=  

DemandEQ(Ag1)..  - Q(SR1,Ag1,5) + delivery(Ag1) =E= 0 ; (LHS = 40, INFES = 40 ****)
     
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 57
Demo2.gmdataset 1s
Equation Listing    SOLVE Demo2 Using LP From line 313


     DemandEQ  =E=  

DemandEQ(Urb1)..  - Q(J1,Urb1,5) + delivery(Urb1) =E= 0 ; (LHS = 216, INFES = 216 ****)
     

---- Objective  =E=  

Objective..  - 10*Q(J1,EndPt,5) - 5*Q(J1,Urb1,5) - 10*Q(SR1,Ag1,5) - 15*Q(SR1,J1,5) + Z =E= 0 ; (LHS = 5830, INFES = 5830 ****)
     
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 58
Demo2.gmdataset 1s
Column Listing      SOLVE Demo2 Using LP From line 313


---- Q  flow in each link in each period [1e6 m^3 mon^-1]

Q(J1,EndPt,5)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       MassBalance_nonstorage(J1)
        1       MinFlow(J1,EndPt,5)
        1       MaxFlow(J1,EndPt,5)
      -10       Objective

Q(J1,Urb1,5)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       MassBalance_nonstorage(J1)
        1       MassBalance_nonstorage(Urb1)
        1       MinFlow(J1,Urb1,5)
        1       MaxFlow(J1,Urb1,5)
       -1       DemandEQ(Urb1)
       -5       Objective

Q(SR1,Ag1,5)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       MassBalance_nonstorage(Ag1)
       -1       MassBalance_storage(SR1)
        1       MinFlow(SR1,Ag1,5)
        1       MaxFlow(SR1,Ag1,5)
       -1       DemandEQ(Ag1)
      -10       Objective

Q(SR1,J1,5)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       MassBalance_nonstorage(J1)
       -1       MassBalance_storage(SR1)
        1       MinFlow(SR1,J1,5)
        1       MaxFlow(SR1,J1,5)
      -15       Objective


---- S  storage volume in storage nodes [1e6 m^3]

S(SR1,5)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       MassBalance_storage(SR1)
        1       MaxStor(SR1,5)
        1       MinStor(SR1,5)


---- delivery  water delivered to demand node i in each period [1e6 m^3 mon^-1]

delivery(Ag1)
                (.LO, .L, .UP, .M = -INF, 40, +INF, 0)
       -1       MassBalance_nonstorage(Ag1)
        1       DemandEQ(Ag1)

delivery(Urb1)
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 59
Demo2.gmdataset 1s
Column Listing      SOLVE Demo2 Using LP From line 313


     delivery  water delivered to demand node i in each period [1e6 m^3 mon^-1]

                (.LO, .L, .UP, .M = -INF, 216, +INF, 0)
       -1       MassBalance_nonstorage(Urb1)
        1       DemandEQ(Urb1)


---- Z  objective function [-]

Z
                (.LO, .L, .UP, .M = -INF, 5830, +INF, 0)
        1       Objective


---- storage  an interim variable for saving the value of the storage at the end of each time-step

storage(SR1,4)
                (.LO, .L, .UP, .M = 500, 500, 500, 0)
        1       MassBalance_storage(SR1)

GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 60
Demo2.gmdataset 1s
Model Statistics    SOLVE Demo2 Using LP From line 313


LOOPS                               tsteps   5


MODEL STATISTICS

BLOCKS OF EQUATIONS           8     SINGLE EQUATIONS           17
BLOCKS OF VARIABLES           5     SINGLE VARIABLES            9
NON ZERO ELEMENTS            30


GENERATION TIME      =        0.000 SECONDS      3 MB  24.3.3 r48116 WEX-WEI


EXECUTION TIME       =        0.000 SECONDS      3 MB  24.3.3 r48116 WEX-WEI
               L O O P S             tsteps 5

GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 61
Demo2.gmdataset 1s
Solution Report     SOLVE Demo2 Using LP From line 313


               S O L V E      S U M M A R Y

     MODEL   Demo2               OBJECTIVE  Z
     TYPE    LP                  DIRECTION  MINIMIZE
     SOLVER  CPLEX               FROM LINE  313

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      1 Optimal                   
**** OBJECTIVE VALUE             4350.0000

 RESOURCE USAGE, LIMIT          0.015      1000.000
 ITERATION COUNT, LIMIT         2    2000000000

IBM ILOG CPLEX   24.3.3 r48116 Released Sep 19, 2014 WEI x86 64bit/MS Windows 
Cplex 12.6.0.1

Space for names approximately 0.00 Mb
Use option 'names no' to turn use of names off
LP status(1): optimal
Cplex Time: 0.00sec (det. 0.03 ticks)
Optimal solution found.
Objective :        4350.000000


---- EQU MassBalance_nonstorage  

            LOWER          LEVEL          UPPER         MARGINAL

Ag1           .              .              .              .          
J1            .              .              .            -5.0000      
Urb1          .              .              .             EPS         

---- EQU MassBalance_storage  

           LOWER          LEVEL          UPPER         MARGINAL

SR1      -310.0000      -310.0000      -310.0000       -20.0000      

---- EQU MinFlow  

                   LOWER          LEVEL          UPPER         MARGINAL

J1 .EndPt.5        30.0000        30.0000        +INF            5.0000      
J1 .Urb1 .5        20.0000        80.0000        +INF             .          
SR1.Ag1  .5        15.0000       200.0000        +INF             .          
SR1.J1   .5        10.0000       110.0000        +INF             .          
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 62
Demo2.gmdataset 1s
Solution Report     SOLVE Demo2 Using LP From line 313


---- EQU MaxFlow  

                   LOWER          LEVEL          UPPER         MARGINAL

J1 .EndPt.5        -INF           30.0000       200.0000          .          
J1 .Urb1 .5        -INF           80.0000       250.0000          .          
SR1.Ag1  .5        -INF          200.0000       200.0000       -10.0000      
SR1.J1   .5        -INF          110.0000       300.0000          .          

---- EQU MaxStor  

             LOWER          LEVEL          UPPER         MARGINAL

SR1.5        -INF          500.0000       500.0000       -20.0000      

---- EQU MinStor  

             LOWER          LEVEL          UPPER         MARGINAL

SR1.5        10.0000       500.0000        +INF             .          

---- EQU DemandEQ  

            LOWER          LEVEL          UPPER         MARGINAL

Ag1           .              .              .             EPS         
Urb1          .              .              .              .          

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU Objective           .              .              .             1.0000      

---- VAR Q  flow in each link in each period [1e6 m^3 mon^-1]

                   LOWER          LEVEL          UPPER         MARGINAL

J1 .EndPt.5          .            30.0000        +INF             .          
J1 .Urb1 .5          .            80.0000        +INF             .          
SR1.Ag1  .5          .           200.0000        +INF             .          
SR1.J1   .5          .           110.0000        +INF             .          

---- VAR S  storage volume in storage nodes [1e6 m^3]

             LOWER          LEVEL          UPPER         MARGINAL

SR1.5          .           500.0000        +INF             .          
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 63
Demo2.gmdataset 1s
Solution Report     SOLVE Demo2 Using LP From line 313


---- VAR delivery  water delivered to demand node i in each period [1e6 m^3 mon^-1]

            LOWER          LEVEL          UPPER         MARGINAL

Ag1         -INF          200.0000        +INF             .          
Urb1        -INF           80.0000        +INF             .          

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR Z                 -INF         4350.0000        +INF             .          

  Z  objective function [-]

---- VAR storage  an interim variable for saving the value of the storage at the end of each time-step

             LOWER          LEVEL          UPPER         MARGINAL

SR1.4       500.0000       500.0000       500.0000        20.0000      


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
GAMS 24.3.3  r48116 Released Sep 19, 2014 WEX-WEI x86 64bit/MS Windows                                                                                                                                                                01/08/15 18:46:53 Page 64
Demo2.gmdataset 1s
E x e c u t i o n


----    316 VARIABLE Z.L                   =     4350.000  objective function [-]

----    316 VARIABLE Obj.L  [-]

0 4190.000,    1 4320.000,    2 6710.000,    3 5437.000,    4 5830.000,    5 4350.000


----    316 VARIABLE storage.L  an interim variable for saving the value of the storage at the end of each time-step

                0           1           2           3           4           5

SR1       500.000     500.000     500.000     500.000     500.000     500.000


----    316 VARIABLE S.L  storage volume in storage nodes [1e6 m^3]

              0           1           2           3           4           5

SR1     500.000     500.000     500.000     500.000     500.000     500.000


----    316 VARIABLE Q.L  flow in each link in each period [1e6 m^3 mon^-1]

                    0           1           2           3           4           5

J1 .EndPt      10.000      89.000      30.000      30.000      30.000      30.000
J1 .Urb1      215.000      10.000      80.000      93.500     240.000      80.000
SR1.Ag1        25.000     210.000     210.000     200.000      40.000     200.000
SR1.J1        225.000     110.000     110.000     130.000     270.000     110.000


----    316 VARIABLE delivery.L  water delivered to demand node i in each period [1e6 m^3 mon^-1]

Ag1  200.000,    Urb1  80.000



EXECUTION TIME       =        0.000 SECONDS      3 MB  24.3.3 r48116 WEX-WEI


USER: GAMS Development Corporation, Washington, DC   G871201/0000CA-ANY
      Free Demo,  202-342-0180,  sales@gams.com,  www.gams.com   DC0000


**** FILE SUMMARY

Input      c:\Users\steve\git\hydra_plugins\GAMS\tutorial\Demo_models\Demo2\Demo2.gms
Output     c:\Users\steve\git\hydra_plugins\GAMS\tutorial\Demo_models\Demo2\Demo2.lst
